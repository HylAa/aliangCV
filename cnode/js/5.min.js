/*!
 * @name:project(description)
 * @link:liuguanhua.github.io
 * @version:v1.0.0
 * @update:2017-09-26 23:12:02 星期二
 * @author:liuguanhua-liuguahua.github.io-lghayy@foxmail.com
 */
webpackJsonp([5],{"./webpack-react/src/assets/images/logo.png":function(e,t,n){e.exports=n.p+"assets/images/logo.png?v=3bd6cd42"},"./webpack-react/src/component/common/SharedCompt.jsx":function(e,t,n){"use strict";(function(e,s){function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t){return S(t,e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.NotResult=t.LoadFail=t.LoadLoop=t.DetectLogin=t.NotLogin=t.UserLogin=void 0;var r=n("./node_modules/babel-runtime/helpers/extends.js"),l=o(r),i=n("./node_modules/babel-runtime/core-js/object/get-prototype-of.js"),u=o(i),c=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),m=o(c),d=n("./node_modules/babel-runtime/helpers/createClass.js"),p=o(d),f=n("./node_modules/babel-runtime/helpers/possibleConstructorReturn.js"),b=o(f),g=n("./node_modules/babel-runtime/helpers/inherits.js"),_=o(g),N=n("./node_modules/react/react.js"),h=o(N),v=n("./node_modules/react-transform-hmr/lib/index.js"),y=o(v),k="/Applications/XAMPP/xamppfiles/htdocs/project/webpack-react/src/component/common/SharedCompt.jsx",j=n("./node_modules/react-router-dom/es/index.js"),w=n("./webpack-react/src/script/utils.jsx"),L=n("./webpack-react/src/component/common/history.jsx"),E=(o(L),{UserLogin:{displayName:"UserLogin"},LoginStatus:{displayName:"LoginStatus",isInFunction:!0}}),S=(0,y.default)({filename:"/Applications/XAMPP/xamppfiles/htdocs/project/webpack-react/src/component/common/SharedCompt.jsx",components:E,locals:[e],imports:[h.default]}),x=(t.UserLogin=a("UserLogin")(function(e){function t(e){(0,m.default)(this,t);var n=(0,b.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.state={btnval:"登录"},n.loginSubmit=n.loginSubmit.bind(n),n}return(0,_.default)(t,e),(0,p.default)(t,[{key:"loginSubmit",value:function(){var e=this,t=this.refs.userToken.value;if(!t)return s.Reuse.showMsg("亲,token不能为空!");this.setState({btnval:"登录中..."}),s.Reuse.request({method:"post",url:"accesstoken",data:{accesstoken:t},success:function(n){n.success?(s.Reuse.showMsg("登录成功!"),n.accesstoken=t,(0,w.setStorage)("saveUser",n),e.props.history.push({pathname:"/user",search:"?name="+n.loginname})):(s.Reuse.showMsg("登录失败!"),e.setState({btnval:"登录"}))},error:function(){s.Reuse.showMsg("登录失败!"),e.setState({btnval:"登录"})}})}},{key:"render",value:function(){return s.createElement("div",{className:"user-login-form",__source:{fileName:k,lineNumber:63}},s.createElement("div",{className:"ipt-row",__source:{fileName:k,lineNumber:64}},s.createElement("input",{ref:"userToken",className:"bd-radius bd-none pdl",type:"text",name:"user-token",placeholder:"Access Token",__source:{fileName:k,lineNumber:65}})),s.createElement("div",{className:"ipt-row",__source:{fileName:k,lineNumber:72}},s.createElement("input",{className:"bd-radius bg-color ft-white bd-none",type:"submit",value:this.state.btnval,onClick:this.loginSubmit,name:"btn-submit",__source:{fileName:k,lineNumber:73}})))}}]),t}(s.Component)),t.NotLogin=function(e){return s.createElement("div",{className:"not-login-wrap tc",__source:{fileName:k,lineNumber:87}},e.isLogo&&s.createElement("img",{className:"not-login-photo",src:n("./webpack-react/src/assets/images/logo.png"),alt:"",__source:{fileName:k,lineNumber:88}}),s.createElement("h2",{"data-layout-align":"center center","data-layout":"layout",__source:{fileName:k,lineNumber:92}},"还未登录，现在就去",s.createElement(j.Link,{className:"ft-color",to:"/user/login",__source:{fileName:k,lineNumber:93}},"登录")))});x.defaultProps={isLogo:!0};t.DetectLogin=function(e){return a("LoginStatus")(function(t){function n(e){return(0,m.default)(this,n),(0,b.default)(this,(n.__proto__||(0,u.default)(n)).call(this,e))}return(0,_.default)(n,t),(0,p.default)(n,[{key:"render",value:function(){return s.Reuse.userExp()?s.createElement(e.realuser,(0,l.default)({},this.props,{__source:{fileName:k,lineNumber:110}})):s.createElement(x,{__source:{fileName:k,lineNumber:111}})}}]),n}(s.Component))},t.LoadLoop=function(){return s.createElement("div",{className:"tc pdtb",__source:{fileName:k,lineNumber:118}},"玩命加载中...")},t.LoadFail=function(){return s.createElement("div",{className:"tc pdtb",__source:{fileName:k,lineNumber:122}},"加载失败!")};(t.NotResult=function(e){return s.createElement("div",{className:"tc pdtb",__source:{fileName:k,lineNumber:127}},e.text)}).defaultProps={text:"暂无数据!"}}).call(t,n("./node_modules/webpack/buildin/module.js")(e),n("./node_modules/react/react.js"))},"./webpack-react/src/script/utils.jsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStorage=t.setStorage=t.showMsg=t.formatDate=void 0;var s=n("./node_modules/store/dist/store.legacy.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.formatDate=function(e){var t=new Date(e),n=(new Date).getTime()-t.getTime();return n<0?"":n/1e3<60?"刚刚":n/6e4<60?parseInt(n/6e4)+"分钟前":n/36e5<24?parseInt(n/36e5)+"小时前":n/864e5<31?parseInt(n/864e5)+"天前":n/2592e6<12?parseInt(n/2592e6)+"月前":parseInt(n/31536e6)+"年前"},t.showMsg=function(e){void 0!==s&&s&&clearTimeout((void 0).tipTime);var t=document.getElementById("form-msg");if(t)t.style.display="block",t.innerHTML="<div layout-align='center center' layout>"+e+"</div>";else{var n=document.createElement("div");n.id="form-msg",n.className="tc form-msg",n.innerHTML="<div layout-align='center center' layout>"+e+"</div>",document.getElementsByTagName("body")[0].appendChild(n)}var s=setTimeout(function(){return document.getElementById("form-msg").style.display="none"},1e3)},t.setStorage=function(e,t){var n=(new Date).getTime();t.setKeyTime=n,o.default.set(e,t)},t.getStorage=function(e,t,n){var s=o.default.get(e);return t&&s&&(new Date).getTime()-s.setKeyTime>t&&o.default.remove(e)&&n&&(n=o.default.get(e)),s}}});