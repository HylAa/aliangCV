(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[71],{434:function(e,t,a){"use strict";a.r(t),a.d(t,"QuillToolbar",(function(){return p}));a(231);var n=a(7),l=a(18),r=a(0),o=a.n(r),c=a(1603),i=a.n(c),s=a(1699),u=a.n(s),d=a(6),m=(a(1706),a(1707),a(42)),b=a(46);function f(e){return{__html:e}}var g=function(){var e=Object(b.useModal)(),t=Object(l.a)(e,2),a=t[0],n=t[1],c=n.showModal,s=n.hideModal,u=Object(r.useState)(i.a.createEditorState(null)),d=Object(l.a)(u,2),g=d[0],h=d[1],E=Object(r.useState)(),p=Object(l.a)(E,2),v=p[0],k=p[1],j=[{key:"custom-button",type:"button",text:"\u9884\u89c8",onClick:Object(r.useCallback)((function(){var e=g.toHTML();k(f(e)),c()}),[g])}];return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{style:{border:"1px solid rgba(0, 0, 0, 0.2)"},value:g,extendControls:j,contentStyle:{height:300},onChange:function(e){return h(e)}}),o.a.createElement(m.BegetModal,{visible:a,title:"\u6548\u679c\u9884\u89c8",footer:null,onCancel:s,size:"large"},o.a.createElement("div",{dangerouslySetInnerHTML:v})))},h=[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"},{align:[]}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],["link","image","video"],["clean"]],E=function(e){var t=e.data,a=void 0===t?[]:t;return o.a.createElement("span",{className:"ql-formats"},a.reduce((function(e,t){if(Object(d.isObject)(t))for(var a=0,n=Object.entries(t);a<n.length;a++){var r=n[a],c=Object(l.a)(r,2),i=c[0],s=c[1],u="ql-".concat(i);e=e.concat(Object(d.isArray)(s)?o.a.createElement("select",{key:i,className:u}):o.a.createElement("button",{key:"".concat(i).concat(s),className:u,value:s}))}return Object(d.isString)(t)&&(e=e.concat(o.a.createElement("button",{key:t,className:"ql-".concat(t)}))),e}),[]))},p=function(e){var t=e.onPreview,a=Object(r.useMemo)((function(){return h.map((function(e,t){return o.a.createElement(E,{key:t,data:e})}))}),[]);return o.a.createElement("div",{id:"toolbar"},a,o.a.createElement("span",{className:"ql-formats"},o.a.createElement("button",Object.assign({},t&&{onClick:t},{key:"eye",className:"ql-eye"}),o.a.createElement(n.a,{className:"font-size-xl font-weight-bold",type:"eye"}))))},v={toolbar:{container:"#toolbar"},clipboard:{matchVisual:!1}},k=function(){var e=Object(b.useModal)(),t=Object(l.a)(e,2),a=t[0],n=t[1],c=n.showModal,i=n.hideModal,s=Object(r.useState)(""),d=Object(l.a)(s,2),g=d[0],h=d[1],E=Object(r.useCallback)((function(e){h(e)}),[]),k=Object(r.useCallback)((function(){c()}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{onPreview:k}),o.a.createElement(u.a,{modules:v,value:g,className:"quill-wrapper",onChange:E}),o.a.createElement(m.BegetModal,{visible:a,title:"\u6548\u679c\u9884\u89c8",footer:null,onCancel:i,size:"large"},o.a.createElement("div",{dangerouslySetInnerHTML:f(g)})))};t.default=function(){return o.a.createElement("div",{"layout-flex":"auto",className:"bg-color-white h-100 pd"},o.a.createElement("div",{className:"mgb"},o.a.createElement(g,null)),o.a.createElement(m.PkgExampleDesc,{name:"braft-editor",url:"https://github.com/margox/braft-editor/",markdownInput:"\n```js\nimport 'braft-editor/dist/index.css'\nimport React, { useCallback } from 'react'\nimport BraftEditor from 'braft-editor'\nimport 'braft-editor/dist/index.css'\n\nexport default () => {\n  const [editorData, setEditorData] = useState(\n    BraftEditor.createEditorState(null)\n  )\n  const handleChange = useCallback(value => {\n    setEditorData(value)\n  }, [])\n  return <BraftEditor value={editorData} onChange={handleChange} />\n}\n```\n"}),o.a.createElement("div",{className:"mgb"},o.a.createElement(k,null)),o.a.createElement(m.PkgExampleDesc,{name:"react-quill",url:"https://github.com/zenoamaro/react-quill/",markdownInput:"\n```js\nimport React, { useState, useCallback } from 'react'\nimport ReactQuill from 'react-quill'\nimport 'react-quill/dist/quill.snow.css'\n\nexport default () => {\n  const [editorData, setEditorData] = useState('')\n  const handleChange = useCallback(value => {\n    setEditorData(value)\n  }, [])\n  return (\n    <ReactQuill\n      modules={{\n        toolbar:  [\n          [{ header: [1, 2, false] }],\n          ['bold', 'italic', 'underline'],\n          ['image', 'code-block']\n        ]\n      }}\n      value={editorData}\n      onChange={handleChange}\n    />\n  )\n}\n```\n"}))}}}]);