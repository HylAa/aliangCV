(this["webpackJsonpreact-antd-admin"]=this["webpackJsonpreact-antd-admin"]||[]).push([[57],{401:function(e,t,n){"use strict";n.r(t);var r=n(18),o=(n(231),n(7)),a=n(88),c=n(10),i=(n(394),n(233)),u=n(0),s=n.n(u),p=n(86),l=n(885),f=n(181),h=n(15),y=n(68),b=n(42),O=n(46);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=i.a.SubMenu,m=function(e,t,n){var r={};return t&&n?r={search:"".concat(n,"&carry_path=").concat(e)}:(t||n)&&(r={search:n||"?carry_path=".concat(e)}),v({pathname:e},r)};t.default=Object(f.a)(Object(p.connect)((function(e){return e.global}))((function(e){var t=e.location.pathname,n=e.userInfo,c=e.collapsed,p=void 0!==c&&c,f=e.foldMenu,d=Object(u.useContext)(y.CtxMenu).routes,g=Object(h.getSearchValues)("carry_path"),w=Object(h.splitPathList)(g||t),P=Object(u.useState)((function(){return{openKeys:p&&!f?[]:w,collapsed:p,saveKeys:w,pathname:t}})),K=Object(r.a)(P,2),E=K[0],k=K[1],C=E.openKeys,R=Object(O.usePrevious)(E);Object.is(p,E.collapsed)||k((function(e){return v({},e,{openKeys:p?[]:E.saveKeys,collapsed:p})})),Object(u.useEffect)((function(){!f&&R&&(Object.is(t,R.pathname)||k((function(e){return v({},e,{saveKeys:C},(f||!p)&&{openKeys:C},{pathname:t})})))}),[f,p,t,R]);var x=Object(u.useCallback)((function(e){var t=function(e){return e.reduce((function(e,t){return t.routes&&(e=[].concat(Object(a.a)(e),[t.path])),e}),[])}(d),n=e.find((function(e){return!C.includes(e)}));if(!t.includes(n))return k((function(t){return v({},t,{openKeys:e})}));k((function(e){return v({},e,{openKeys:n?[n]:[]})}))}),[d,C]);return s.a.createElement(b.BegetMenu,{style:{height:"calc(100vh - 150px)",overflowX:"hidden",paddingBottom:50},onOpenChange:x,mode:"inline",selectedKeys:[g||t||""],openKeys:C},d&&function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.filter((function(e){return e.title&&!e.navHide})).map((function(t){if(!Object(h.authRoutePage)(t,n))return null;var r=t.routes,a=t.path,c=t.icon,u=t.title,p=t.search,f=t.isCarryPath,y=s.a.createElement(s.a.Fragment,null,c&&s.a.createElement(o.a,{type:c}),s.a.createElement("span",null,u));if(r)return s.a.createElement(j,{key:a,title:y},e(r,n));var b=m(a,f,p);return s.a.createElement(i.a.Item,{key:a},s.a.createElement(l.a,{to:b},y))}))}(d,n))})))},885:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(1),c=n.n(a),i=n(21),u=n.n(i),s=n(52),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=r=l(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!f(e)){e.preventDefault();var t=r.context.router.history,n=r.props,o=n.replace,a=n.to;o?t.replace(a):t.push(a)}},l(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);u()(this.context.router,"You should not use <Link> outside a <Router>"),u()(void 0!==t,'You must specify the "to" property');var a=this.context.router.history,c="string"===typeof t?Object(s.c)(t,null,null,a.location):t,i=a.createHref(c);return o.a.createElement("a",p({},r,{onClick:this.handleClick,href:i,ref:n}))},t}(o.a.Component);h.propTypes={onClick:c.a.func,target:c.a.string,replace:c.a.bool,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired,innerRef:c.a.oneOfType([c.a.string,c.a.func])},h.defaultProps={replace:!1},h.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired,createHref:c.a.func.isRequired}).isRequired}).isRequired},t.a=h}}]);